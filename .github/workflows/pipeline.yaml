name: Test

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v6
      - name: Test action
        uses: ./
        with:
          BACKEND_ACCESS_KEY_ID: 'backend_access_key_id'
          BACKEND_SECRET_ACCESS_KEY: 'backend_secret_access_key'
          STACKIT_SERVICE_ACCOUNT_KEY: 'stackit_service_account_key'
          terraform_module: 'test'
